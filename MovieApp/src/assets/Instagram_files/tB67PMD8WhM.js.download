;/*FB_PKG_DELIM*/

__d("PolarisDaisyLikedByListHeader.react",["fbt","IGDSBox.react","IGDSText.react","PolarisAssetManagerGlyphMapping","PolarisBigNumber.react","PolarisIGCoreIcon","PolarisReactRedux","PolarisShouldHideLikeCountsWithControls","polarisGetPostFromGraphMediaInterface","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a,b=null;if(d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls((a=this.props.viewer)==null?void 0:a.hideLikeAndViewCounts,this.props.likeAndViewCountsDisabled,this.props.isOwnerTheViewer===!0))if(this.props.isOwnerTheViewer!==!0&&this.props.ownerUsername!=null){a=this.props.ownerUsername;a=h._("__JHASH__ITrx3673_wb__JHASH__",[h._param("media author username",a)]);b=j.jsx(c("IGDSBox.react"),{marginBottom:4,marginTop:6,paddingX:4,position:"relative",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:a})})}else if(this.props.isOwnerTheViewer===!0&&this.props.likeCount!=null)if(this.props.viewCount!=null&&this.props.viewCount>0&&!d("polarisGetPostFromGraphMediaInterface").isClipsProductType(this.props.productType)){a=h._("__JHASH__Qn49EMBSNxU__JHASH__");b=j.jsxs(c("IGDSBox.react"),{marginBottom:4,marginTop:6,paddingX:4,position:"relative",children:[j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",marginBottom:1,position:"relative",children:[j.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:j.jsx(c("PolarisIGCoreIcon"),{alt:h._("__JHASH__WdNfiAaf6t8__JHASH__"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.PLAY_FILLED_16_GREY9})}),j.jsx(c("IGDSText.react").Section,{children:j.jsx(c("PolarisBigNumber.react"),{value:this.props.viewCount!=null?this.props.viewCount:0})}),j.jsxs(c("IGDSBox.react"),{marginEnd:1,marginStart:2,position:"relative",children:[" ",j.jsx(c("PolarisIGCoreIcon"),{alt:h._("__JHASH__GAaRvXhvyry__JHASH__"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.HEART_FILLED_16_GREY9})]}),j.jsx(c("IGDSText.react").Section,{children:j.jsx(c("PolarisBigNumber.react"),{value:this.props.likeCount!=null?this.props.likeCount:0})})]}),j.jsx(c("IGDSBox.react"),{position:"relative",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:a})})]})}else{a=h._("__JHASH__MNsKlv0KORc__JHASH__");b=j.jsxs(c("IGDSBox.react"),{marginBottom:4,marginTop:6,paddingX:4,position:"relative",children:[j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",marginBottom:1,position:"relative",children:[j.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:j.jsx(c("PolarisIGCoreIcon"),{alt:h._("__JHASH__GAaRvXhvyry__JHASH__"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.HEART_FILLED_16_GREY9})}),j.jsx(c("IGDSText.react").Section,{children:j.jsx(c("PolarisBigNumber.react"),{value:this.props.likeCount!=null?this.props.likeCount:0})})]}),j.jsx(c("IGDSBox.react"),{position:"relative",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:a})})]})}return b};return b}(j.Component);function a(a){return{viewer:d("polarisUserSelectors").getViewer__DEPRECATED(a)}}e=d("PolarisReactRedux").connect(a)(b);g["default"]=e}),98);
__d("PolarisLikedByListScrollableContent.react",["IGDSThemeConstantsHelpers","PolarisLogger","PolarisUserList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="likedByListScrollableContent",k=400-d("IGDSThemeConstantsHelpers").getNumericValue("scrollable-content-header-height");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){a=a.numScreensFromEnd;c.$1()&&a<=.75&&c.props.requestNextLikes()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.props.deferLogPageView!==!0&&d("PolarisLogger").logPageView(j)};e.$1=function(){return this.props.hasMore===!0&&!this.props.isLoading&&!this.props.isSearching};e.render=function(){return i.jsx(c("PolarisUserList.react"),{analyticsContext:j,avatarTriggerAnalyticsContext:"liker_list_avatar",containerSize:k,isLoading:this.props.isLoading,onScroll:this.$2,userIds:this.props.users,usernameTriggerAnalyticsContext:"liker_list"})};return b}(i.Component);g["default"]=a}),98);
__d("PolarisLikedByListModal.react",["fbt","IGCoreModal","IGDSBox.react","IGDSThemeConstantsHelpers","PolarisDaisyLikedByListHeader.react","PolarisIGCoreModalHeader","PolarisLikedByListScrollableContent.react","PolarisLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l=400-d("IGDSThemeConstantsHelpers").getNumericValue("scrollable-content-header-height"),m=200;function a(a){var b=a.hasMore,e=a.isLoading,f=a.isOwnerTheViewer,g=a.likeAndViewCountsDisabled,i=a.likeCount,n=a.onClose,o=a.ownerUsername,p=a.productType,q=a.requestNextLikes,r=a.searchInput;r=r===void 0?"":r;var s=a.users;a=a.viewCount;k(function(){d("PolarisLogger").logPageView("likedByListModal")},[]);var t=h._("__JHASH__kRHJRYG8Kn5__JHASH__");return j.jsxs(c("IGCoreModal"),{"aria-label":t,onClose:n,children:[j.jsx(c("PolarisIGCoreModalHeader"),{onClose:n,children:t}),j.jsx(c("PolarisDaisyLikedByListHeader.react"),{isOwnerTheViewer:f,likeAndViewCountsDisabled:g,likeCount:i,ownerUsername:o,productType:p,viewCount:a}),j.jsx(c("IGDSBox.react"),{flex:"grow",maxHeight:l,minHeight:m,overflow:"hidden",position:"relative",children:j.jsx(c("PolarisLikedByListScrollableContent.react"),{deferLogPageView:!0,hasMore:b,isLoading:e,isSearching:!!(r==null?void 0:r.length),requestNextLikes:q,users:s})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLikedByListPage.react",["fbt","PolarisDaisyLikedByListHeader.react","PolarisFooterVariants","PolarisNavigationalHeader.react","PolarisPageMetadata.react","PolarisScrollWatchedComponent.react","PolarisShell.react","PolarisUserList.react","react","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m="likedByListPage",n=h._("__JHASH__2fOpKxPwG5o__JHASH__");function a(a){var b=a.hasMore,d=a.isLoading,e=a.isOwnerTheViewer,f=a.likeAndViewCountsDisabled,g=a.likeCount,h=a.ownerUsername,i=a.productType,o=a.requestNextLikes,p=a.searchInput;p=p===void 0?"":p;var q=a.users;a=a.viewCount;var r=c("usePrevious")(q),s=l(null),t=b&&!d&&!p;k(function(){s.current!=null&&t&&r!=null&&r!==q&&s.current.forceRecompute()},[t,r,q]);b=function(){o!=null&&t&&o()};p=function(){window.history.go(-1)};return j.jsxs(c("PolarisShell.react"),{footerVariant:c("PolarisFooterVariants").slim,mobileHeader:j.jsx(c("PolarisNavigationalHeader.react"),{onCancel:p,title:n}),pageIdentifier:m,children:[j.jsx(c("PolarisPageMetadata.react"),{id:m}),j.jsx(c("PolarisDaisyLikedByListHeader.react"),{isOwnerTheViewer:e,likeAndViewCountsDisabled:f,likeCount:g,ownerUsername:h,productType:i,viewCount:a}),j.jsx(c("PolarisUserList.react"),{analyticsContext:m,isLoading:d,userIds:q}),t&&j.jsx(c("PolarisScrollWatchedComponent.react"),{onScrollEnter:b,ref:function(a){return s.current=a}})]})}a.displayName=a.name+" [from "+f.id+"]";g.LikedByListPage=a}),98);
__d("polarisLikedByListSelectors",["PolarisLikedByListState","polarisCreateSelectorWithArg","polarisUserSelectors"],(function(a,b,c,d,e,f,g){"use strict";a=c("polarisCreateSelectorWithArg")(function(a){return a.likedByLists},function(a){return function(b){return(b=a[b])!=null?b:d("PolarisLikedByListState").EMPTY_LISTS}});b=c("polarisCreateSelectorWithArg")(function(a){return a.likedByLists},function(a){return function(b){return(b=a[b])!=null?b:d("PolarisLikedByListState").EMPTY_LISTS}});e=c("polarisCreateSelectorWithArg")(function(a){return a},function(a){return function(b){return b.userIds.map(function(b){return{userID:b,username:d("polarisUserSelectors").getUserById(a,b).username}}).filter(function(a){a=a.username;return a!=null&&a!==""&&a.includes(b.searchInput)}).map(function(a){a=a.userID;return a})}});g.getListByMediaId=a;g.getListByShortcode=b;g.getVisibleUsersForLikedByList=e}),98);
__d("PolarisLikedByListContainer.react",["PolarisLikedByListActions","PolarisLikedByListModal.react","PolarisLikedByListPage.react","PolarisLikedByListVariant","PolarisPaginationUtils","PolarisReactRedux","polarisLikedByListSelectors","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){b=b.mediaId;var c=d("polarisUserSelectors").getViewer__DEPRECATED(a);b=d("polarisLikedByListSelectors").getListByMediaId(a,b);return{hasMore:d("PolarisPaginationUtils").hasNextPage(b.pagination)!==!1,isLoading:d("PolarisPaginationUtils").isFetching(b.pagination),pagination:b.pagination,searchInput:b.searchInput,userIDs:d("polarisLikedByListSelectors").getVisibleUsersForLikedByList(a,b),viewerId:c&&c.id}}function b(a,b){return{requestNextLikes:function(){return},setSearchInput:function(c){return a(d("PolarisLikedByListActions").setSearchInput(b.shortcode,c))}}}e=d("PolarisReactRedux").connect(a,b)(function(a){var b=a.display;a=babelHelpers.objectWithoutPropertiesLoose(a,["display"]);var e={hasMore:a.hasMore,isLoading:a.isLoading,isOwnerTheViewer:a.isOwnerTheViewer,likeAndViewCountsDisabled:a.likeAndViewCountsDisabled,likeCount:a.likeCount,ownerUsername:a.ownerUsername,productType:a.productType,requestNextLikes:a.requestNextLikes,searchInput:a.searchInput,users:a.userIDs,viewCount:a.viewCount};switch(b){case c("PolarisLikedByListVariant").Page:return i.jsx(d("PolarisLikedByListPage.react").LikedByListPage,babelHelpers["extends"]({},e));case c("PolarisLikedByListVariant").Modal:return i.jsx(c("PolarisLikedByListModal.react"),babelHelpers["extends"]({onClose:a.onClose},e))}});g["default"]=e}),98);
__d("PolarisMobileLikedByRoot.react",["PolarisLikedByListActions","PolarisLikedByListContainer.react","PolarisLikedByListVariant","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){a=a.props;var b=a.routeParams.shortcode;a=a.routeProps;var e=a.media_id;a=a.media_owner_id;var f=d("PolarisReactRedux").useDispatch();j(function(){f(d("PolarisLikedByListActions").requestNativeLikedByList(e))},[f,e,b]);return a==null||e==null?null:i.jsx(c("PolarisLikedByListContainer.react"),{display:c("PolarisLikedByListVariant").Page,mediaId:e,onClose:function(){},shortcode:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);